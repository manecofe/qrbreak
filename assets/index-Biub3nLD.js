(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))y(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const b of l.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&y(b)}).observe(document,{childList:!0,subtree:!0});function o(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function y(r){if(r.ep)return;r.ep=!0;const l=o(r);fetch(r.href,l)}})();document.querySelector("#app").innerHTML=`
  <div>
    <div class="grid-container" id="grid">
      <div class="circle" style="background-color: green;"></div>
      <div class="circle" style="background-color: red;"></div>
      <div class="circle" style="background-color: red;"></div>
      <div class="circle" style="background-color: blue;"></div>
    </div>
    <div class='game-container'>
      <canvas id="myCanvas" width="480" height="320"></canvas>
    </div>
    <div class='btn-container'>
      <button id="runButton">Start game</button>
    </div>
  </div>
`;const i=document.getElementById("myCanvas"),R=document.getElementById("grid"),n=i.getContext("2d"),g=10,w="#FFFFFF";let d=i.width/2,a=i.height-30,u=2,s=-2;R.style.display="none";const x=10,f=75;let c=(i.width-f)/2,P=!1,E=!1;const v=5,m=3,k=75,L=20,O=10,B=30,C=30;let A=0,p=3,h=[];for(let e=0;e<m;e++){h[e]=[];for(let t=0;t<v;t++)h[e][t]={x:0,y:0,status:1}}document.addEventListener("keydown",H,!1);document.addEventListener("keyup",M,!1);document.addEventListener("mousemove",X,!1);document.addEventListener("touchstart",F,!1);document.addEventListener("touchmove",F,!1);function H(e){e.key=="Right"||e.key=="ArrowRight"?P=!0:(e.key=="Left"||e.key=="ArrowLeft")&&(E=!0)}function M(e){e.key=="Right"||e.key=="ArrowRight"?P=!1:(e.key=="Left"||e.key=="ArrowLeft")&&(E=!1)}function X(e){let t=e.clientX/window.innerWidth*i.width;t>0&&t<i.width&&(c=t-f/2)}function F(e){e.preventDefault();let o=e.touches[0].clientX/window.innerWidth*i.width;o>0&&o<i.width&&(c=o-f/2)}function I(){for(let e=0;e<m;e++)for(let t=0;t<v;t++){let o=h[e][t];o.status==1&&d>o.x&&d<o.x+k&&a>o.y&&a<o.y+L&&(s=-s,o.status=0,A++,A==v*m&&(alert("CONGRATS! You have broken the seal and discovered the code to pass."),p=9999,i.style.display="none",R.style.display="grid"))}}function q(){n.beginPath(),n.arc(d,a,g,0,Math.PI*2),n.fillStyle=w,n.fill(),n.closePath()}function N(){n.beginPath(),n.rect(c,i.height-x,f,x),n.fillStyle=w,n.fill(),n.closePath()}function T(){for(let e=0;e<m;e++)for(let t=0;t<v;t++)if(h[e][t].status==1){const o=t*(k+O)+C,y=e*(L+O)+B;h[e][t].x=o,h[e][t].y=y,n.beginPath(),n.rect(o,y,k,L),n.fillStyle=w,n.fill(),n.closePath()}}function W(){n.font="16px 'Antiquity Print'",n.fillStyle=w,n.fillText("Lives: "+p,i.width-165,20)}function S(){n.clearRect(0,0,i.width,i.height),T(),q(),N(),W(),I(),(d+u>i.width-g||d+u<g)&&(u=-u),a+s<g?s=-s:a+s>i.height-g&&(d>c&&d<c+f?s=-s:(p--,p?(d=i.width/2,a=i.height-30,u=3,s=-3,c=(i.width-f)/2):(alert("GAME OVER"),document.location.reload()))),P&&c<i.width-f?c+=7:E&&c>0&&(c-=7),d+=u,a+=s,requestAnimationFrame(S)}document.getElementById("runButton").addEventListener("click",function(){S(),this.style.display="none"});
